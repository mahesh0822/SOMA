package io.testproject.generated.tests.somaandroidflutter;

import org.testng.annotations.AfterMethod;
import io.appium.java_client.MobileElement;
//import io.appium.java_client.MultiTouchAction;
import io.appium.java_client.TouchAction;
import io.appium.java_client.android.nativekey.AndroidKey;
import io.appium.java_client.android.nativekey.KeyEvent;
import io.appium.java_client.remote.AndroidMobileCapabilityType;
import io.appium.java_client.remote.MobileCapabilityType;
import io.appium.java_client.remote.MobilePlatform;
import io.appium.java_client.touch.WaitOptions;
import io.appium.java_client.touch.offset.PointOption;
import io.testproject.sdk.drivers.ReportingDriver;
import io.testproject.sdk.drivers.android.AndroidDriver;
import io.testproject.sdk.interfaces.junit5.ExceptionsReporter;
import java.lang.Exception;
import java.lang.Override;
import java.time.Duration;
import java.util.Arrays;
import java.util.concurrent.TimeUnit;
import java.util.stream.Stream;
import org.junit.jupiter.api.AfterAll;
//import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.Arguments;
import org.junit.jupiter.params.provider.MethodSource;
import org.openqa.selenium.By;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.remote.CapabilityType;
import org.openqa.selenium.remote.DesiredCapabilities;

/**
 * This class was automatically generated by TestProject
 * Project: SOMA_Android_Flutter
 * Test: Login_Page
 * Generated by: mahesh naganagoudar (mayyu22@gmail.com)
 * Generated on Mon Oct 18 10:34:49 GMT 2021.
 */
@DisplayName("Login_Page")
public class Loginpage implements ExceptionsReporter {
  public static AndroidDriver<? extends MobileElement> driver;

  @BeforeAll
  static void setup() throws Exception {
    driver = new AndroidDriver<>("14uS2pY2qS1AjWW9pMkxq48XfaeVViAF69c84pPE3Lc", getCapabilities(), "mahesh naganagoudar");
  }

  /**
   * In order to upload the test to TestProject need to un-comment @ArgumentsSource and set in comment the @MethodSource
   * @org.junit.jupiter.params.provider.ArgumentsSource(io.testproject.sdk.interfaces.parameterization.TestProjectParameterizer.class) */
  @DisplayName("Login_Page")
  @ParameterizedTest
  @MethodSource("provideParameters")
  void execute() throws Exception {
    // set timeout for driver actions (similar to step timeout)
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    By by;
    boolean booleanResult;

    // 1. Reset App
    //    Clear application data and restart (Auto-generated)
    GeneratedUtils.sleep(1000);
    driver.resetApp();

    // 2. Click 'Enter your phone or email'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.EditText[@text = 'Enter your phone or email']");
    driver.findElement(by).click();
    Actions a = new Actions(driver);
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    a.sendKeys("benz@soma.com");
    a.build().perform();
    // 3. Type 'benz@soma.com' in 'Enter your phone or email'
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Enter your phone or email']");
//    driver.findElement(by).sendKeys("benz@soma.com");
    
    // 4. Does 'Enter your phone or email' contain 'benz'?
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Enter your phone or email']");
//    Assertions.assertTrue(driver.findElement(by).getText().contains("benz"));

    // 5. Click 'Password'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.EditText[@text = 'Password']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    a.sendKeys("Password@2");
    a.build().perform();
    // 6. Type 'Password@2' in 'Password'
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Password']");
//    driver.findElement(by).sendKeys("Password@2");

    // 7. Send key event '4'
    GeneratedUtils.sleep(1000);
    driver.pressKey(new KeyEvent(Arrays.stream(AndroidKey.values()).filter(k -> k.getCode() == 4).findFirst().get()));

    // 8. Click 'Log in'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.Button[@content-desc = 'Log in']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 9. Click 'Temperature\n04:14 PM\n98.5\nF'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(3000);
    by = By.xpath("//android.widget.ImageView[@content-desc = 'Temperature\n03:38 PM\n97\nF']");
    driver.findElement(by).click();
//    a.click().perform();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 10. Click '+ Add data'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View[@content-desc = '+ Add data']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 11. Click 'ANDROID.WIDGET.EDITTEXT'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.EditText");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    a.sendKeys("97");
    a.build().perform();
    // 12. Type '97' in 'ANDROID.WIDGET.EDITTEXT'
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText");
//    driver.findElement(by).sendKeys("97");
    
    // 13. Click '+ add note'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View[@content-desc = '+ add note']");
    driver.findElement(by).click();
    a.build().perform();
    
    // 14. Click 'Password'
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Password']");
//    driver.findElement(by).click();
//    a.sendKeys("notes added successfully");
//    a.build().perform();
    // 15. Type 'notes added successfully' in 'Password'
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Password']");
//    driver.findElement(by).sendKeys("notes added successfully");

    // 16. Click 'Save Data'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.Button[@content-desc = 'Save Data']");
    driver.findElement(by).click();

    // 17. Click 'D'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View[@content-desc = 'D']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 18. Click 'W'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View[@content-desc = 'W']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 19. Click 'M'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View[@content-desc = 'M']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 20. Click 'Y'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View[@content-desc = 'Y']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 21. Send key event '4'
    GeneratedUtils.sleep(1000);
    driver.pressKey(new KeyEvent(Arrays.stream(AndroidKey.values()).filter(k -> k.getCode() == 4).findFirst().get()));

    // 22. Click 'Tab 2 of 4'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.ImageView[@content-desc = 'Tab 3 of 5']");
    driver.findElement(by).click();

    // 23. Make a Swipe gesture from ('791','1290') to ('104','1290')
    GeneratedUtils.sleep(1000);
    (new TouchAction(driver)).press(PointOption.point(791,1290))
        				.waitAction(WaitOptions.waitOptions(Duration.ofMillis(300)))
        				.moveTo(PointOption.point(104,1290)).release().perform();

    // 24. Click 'Tab 3 of 4'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.ImageView[@content-desc = 'Tab 4 of 5']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 25. Click 'Search'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Search']");
//    driver.findElement(by).click();
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
//    a.sendKeys("waters");
//    a.build().perform();
    // 26. Type 'waters' in 'Search'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(50000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Search']");
//    driver.findElement(by).sendKeys("waters");
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 27. Click 'John  Waters\n10/06/21'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.ImageView[@content-desc = 'John  Waters\n01:42 PM']");
//    driver.findElement(by).click();
//    a.build().perform();
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 28. Click 'Type Something'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(50000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Type Something']");
//    driver.findElement(by).click();
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
//    a.sendKeys("hi doctor");
//    a.build().perform();
    // 29. Type 'hi doctor' in 'Type Something'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'Type Something']");
//    driver.findElement(by).sendKeys("hi doctor");
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 30. Click 'ANDROID.WIDGET.IMAGEVIEW'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(50000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText/android.widget.ImageView");
//    driver.findElement(by).click();
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 31. Send key event '4'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    driver.pressKey(new KeyEvent(Arrays.stream(AndroidKey.values()).filter(k -> k.getCode() == 4).findFirst().get()));
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 32. Click 'ANDROID.WIDGET.IMAGEVIEW1'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.view.View/android.view.View[1]/android.view.View[1]/android.view.View[1]/android.view.View/android.widget.ImageView[1]");
//    driver.findElement(by).click();
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 33. Send key event '4'
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    driver.pressKey(new KeyEvent(Arrays.stream(AndroidKey.values()).filter(k -> k.getCode() == 4).findFirst().get()));
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 34. Tap at ('944','2081') with '1' fingers for '100'ms
    // set step-specific timeout (will undo this at the end)
//    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
//    GeneratedUtils.sleep(1000);
//    MultiTouchAction multiTouch = new MultiTouchAction((driver));
//        for (int i = 0; i < 1; i++) {
//        	multiTouch.add((new TouchAction(((AppiumDriver<WebElement>) driver))).press(PointOption.point(944,2081))
//        			.waitAction(WaitOptions.waitOptions(Duration.ofMillis(100))).release());
//        }
//        multiTouch.perform();
//    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
       
    
    
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.ImageView[@content-desc = 'Tab 5 of 5']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    
    
    
    
    
    // 35. Click 'PT004 Benz\nbenz@soma.com'
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.ImageView[@content-desc = 'PT004 Benz\nbenz@soma.com']");
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 36. Make a Swipe gesture from ('598','1962') to ('435','321')
    // set step-specific timeout (will undo this at the end)
    driver.manage().timeouts().implicitlyWait(35000, TimeUnit.MILLISECONDS);
    GeneratedUtils.sleep(1000);
    (new TouchAction(driver)).press(PointOption.point(598,1962))
        				.waitAction(WaitOptions.waitOptions(Duration.ofMillis(300)))
        				.moveTo(PointOption.point(435,321)).release().perform();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);

    // 37. Click 'test, Address 2'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.EditText[@text = 'Address 2']");
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    driver.findElement(by).click();
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    a.sendKeys("testing address");
    a.build().perform();
    // 38. Type 'testing' in 'test, Address 2'
//    GeneratedUtils.sleep(1000);
//    by = By.xpath("//android.widget.EditText[@text = 'test, Address 2']");
//    driver.findElement(by).sendKeys("testing");

    // 39. Click 'Save1'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View[@content-desc = 'Save']");
    driver.findElement(by).click();

    // 40. Send key event '4'
    /* Step is disabled
    GeneratedUtils.sleep(1000);
    driver.pressKey(new KeyEvent(Arrays.stream(AndroidKey.values()).filter(k -> k.getCode() == 4).findFirst().get()));
    */
    // 41. Click 'ANDROID.VIEW.VIEW'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.view.View/android.view.View[1]/android.view.View[1]/android.view.View[1]/android.view.View/android.view.View[2]");
    driver.findElement(by).click();

    // 42. Make a Swipe gesture from ('544','1082') to ('529','40')
    GeneratedUtils.sleep(1000);
    (new TouchAction(driver)).press(PointOption.point(544,1082))
        				.waitAction(WaitOptions.waitOptions(Duration.ofMillis(300)))
        				.moveTo(PointOption.point(529,40)).release().perform();

    // 43. Click 'Logout'
    GeneratedUtils.sleep(1000);
    by = By.xpath("//android.widget.Button[@content-desc = 'Logout']");
    driver.findElement(by).click();

  }

  @Override
  public ReportingDriver getDriver() {
    return (ReportingDriver) driver;
  }

  @AfterMethod
@AfterAll
  static void tearDown() {
    if (driver != null) {
      driver.quit();
    }
  }

  private static Stream provideParameters() throws Exception {
    return Stream.of(Arguments.of());
  }

  public static DesiredCapabilities getCapabilities() {
    DesiredCapabilities capabilities = new DesiredCapabilities();
    capabilities.setCapability(MobileCapabilityType.PLATFORM_NAME, MobilePlatform.ANDROID);
    capabilities.setCapability(MobileCapabilityType.UDID, "066dfc31");
    capabilities.setCapability(CapabilityType.BROWSER_NAME, "");
    capabilities.setCapability(AndroidMobileCapabilityType.APP_PACKAGE, "com.somahealth.somahealthqa");
    capabilities.setCapability(AndroidMobileCapabilityType.APP_ACTIVITY, "com.somahealth.somahealthqa.MainActivity");
    return capabilities;
  }
}
